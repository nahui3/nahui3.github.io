# План: admin

**Назначение:** Управление BDUI: настройки ветки проекта для CI/CD-воркера, просмотр версий по платформам, выбор версии для наката.

## Контекст

- На бэкенде в CI/CD работает **воркер**, который периодически анализирует указанную в настройках админки ветку проекта и на основе входящих в ветку файлов строит дерево хешей и манифесты, версионирует их.
- В админке можно посмотреть любую версию для каждой платформы и указать, какую версию нужно накатить.

## Задачи

1. **Настройки для воркера**
   - Хранение и редактирование настроек: репозиторий (или путь к .git), ветка для анализа.
   - Связь с backend/воркером: воркер читает эти настройки и обновляет манифесты и версии.

2. **Просмотр версий**
   - Список версий по платформам (ios, android, web), построенных воркером.
   - Просмотр содержимого манифеста для выбранной версии и платформы (корневая фича, описывающая набор всех фич; дерево папок и файлов с id, именем, хешем).

3. **Выбор версии для наката**
   - Указание «опубликованной» (накатываемой) версии для каждой платформы (или общей).
   - Сохранение этого выбора в хранилище, доступном backend: при запросе клиента сервер сравнивает переданную версию с опубликованной, строит или достаёт из кеша дельту и отдаёт клиенту дельту вместе с опубликованным манифестом.

4. **Интеграция с файлами (обратная совместимость)**
   - Оставить при необходимости текущий поток загрузки файлов (InterfaceFile) для статичных ресурсов; основной поток версионирования — через воркер и манифесты.

## Результат

Админка — точка настройки источника (ветка проекта), просмотра версий и выбора версии для наката по платформам.
