# План: demo

**Назначение:** Демонстрация полного цикла BDUI: загрузка фичи с backend, отображение на каждой платформе (iOS, Android, Web), проверка обновлений через дельту.

## Контекст

- Клиент передаёт версию и идентификатор фичи; сервер достаёт манифесты двух версий (переданной и опубликованной), сравнивает, строит или достаёт из кеша дельту и отправляет клиенту **дельту вместе с опубликованным манифестом** (либо «изменений не было»). Клиент применяет дельту, кеширует манифест и рендерит.
- Библиотеки: iOS — SwiftUI SPM-пакет nahui3, Android — Kotlin Compose библиотека nahui3, Web — React-компонент nahui3.

## Задачи

1. **Общая настройка**
   - URL backend (конфиг или env); одна тестовая фича (id) по умолчанию для проверки сценария.

2. **demo/android**
   - Подключить библиотеку nahui3; экран с кнопкой «Загрузить фичу» и областью рендера. Передача версии и id фичи; получение дельты и опубликованного манифеста; применение дельты, кеширование манифеста, рендер; опционально pull-to-refresh для проверки обновлений.

3. **demo/ios**
   - Подключить SPM-пакет nahui3; экран загрузки фичи по id, передача версии; получение дельты и опубликованного манифеста; применение дельты, кеширование манифеста, отображение по манифесту и файлам; опционально pull-to-refresh.

4. **demo/web**
   - Страница с выбором фичи или одна фиксированная; загрузка через хук nahui3, передача версии и id фичи; получение дельты и манифеста; применение дельты, кеширование манифеста, рендер; кнопка «Проверить обновления».

5. **Тестовые данные**
   - В админке задана ветка проекта; воркер строит манифесты; выбрана опубликованная версия для наката. Убедиться, что backend отдаёт дельту вместе с опубликованным манифестом, все три демо корректно применяют дельту, кешируют манифест и рендерят после смены опубликованной версии в админке.

## Результат

Одна и та же фича (эквивалент экрана), описанная манифестом и файлами в проекте, отображается в demo на iOS, Android и Web и обновляется по дельте при смене накатанной версии.
